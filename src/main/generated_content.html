<?xml version="1.0" encoding="UTF-8"?>
<section id="generated-content">
  <h2> Generated Content, Automatic Numbering, and Lists </h2>
  <section id="pseudo-elements">
    <h3> Pseudo-elements </h3>
    <p class="issue">
      See <a href="https://github.com/braillespecs/braille-css/issues/33"
      class="ticket">braille-css#33</a>.
    </p>
    <p>
      Pseudo-elements provide a way to insert and style content that does not exist in the source
      document. Pseudo-elements generate boxes just like normal elements do. For pseudo-elements to
      be generated, they must not have their <a class="css-propname">content</a> property set to <span
      class="css-propval">none</span>. In the general case, pseudo-elements inherit any inheritable
      properties from the element in the document tree to which they are associated (their <a
      class="externalDFN" href="CSS3GENCON#superior">superior parent</a>), and their boxes are
      positioned with respect to the superior parent's box. The <a href="CSS3GENCON#syntax">syntax
      for selecting pseudo-elements</a> is defined in [[CSS3GENCON]].
    </p>
    <section>
      <h4>
        The <a class="css">::before</a> and <a class="css">::after</a> pseudo-elements
      </h4>
      <p>
        The <dfn class="css">::before</dfn> and <dfn class="css">::after</dfn> pseudo-elements are
        used to insert content immediately before and immediately after the content of an element
        (or other pseudo-element). The generated boxes are contained within the <a
        class="externalDFN" href="CSS3GENCON#superior">superior parent</a>'s box. The <a
        class="css-propname">content</a> property is used to specify the content to insert.
      </p>
    </section>
    <section>
      <h4>
        Markers: the <a class="css">::marker</a> pseudo-element
      </h4>
      <p>
        The <dfn class="css">::marker</dfn> pseudo-element is used to represent a list item's
        marker (the bullet or number identifying the item). For a <a class="css">::marker</a>
        pseudo-element to be generated, its <a class="externalDFN"
        href="CSS3GENCON#superior">superior parent</a> must have a computed <a
        class="css-propname">display</a> value of <a class="css-propval">list-item</a>. The default value of
        the pseudo-element's <a class="css-propname">content</a> property is determined by the <a
        class="css-propname">list-style-type</a> property of its <a class="externalDFN"
        href="CSS3GENCON#superior">superior parent</a>.
      </p>
    </section>
  </section>
  <section id="counters">
    <h3> Automatic Numbering with Counters </h3>
    <p class="issue">
      See <a href="https://github.com/braillespecs/braille-css/issues/9"
      class="ticket">braille-css#9</a>.
    </p>
    <p>
      A <a class="externalDFN" href="CSS3LIST#counter0">counter</a> is a special concept used to
      automatically number list items, pages, etc. [[CSS3LIST]] describes how counters are created
      and manipulated with the <a class="css-propname">counter-increment</a>, <a
      class="css-propname">counter-set</a> and <a class="css-propname">counter-reset</a> properties, and
      used with the <a class="css-propval">counter()</a> function.
    </p>
    <section>
      <h4>
        Manipulating Counters: the <a class="css-propname">counter-increment</a>, <a
        class="css-propname">counter-set</a> and <a class="css-propname">counter-reset</a> properties
      </h4>
      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>counter-reset</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td>
              [ <a href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
              class="externalDFN"><var>&lt;custom-ident&gt;</var></a> <a class="externalDFN"
              href="http://www.w3.org/TR/css3-syntax/#typedef-integer"><var>&lt;integer&gt;</var></a>?
              ]+ | none
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#initial-value" class="externalDFN">Initial</a>:
            </th>
            <td> none </td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td>
              all elements and pseudo-elements
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#inherited-property" class="externalDFN">Inherited</a>:
            </th>
            <td> no </td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>
              <a href="CSS2MEDIA#media-types" class="externalDFN">embossed</a>
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#computed" class="externalDFN">Computed value</a>:
            </th>
            <td> the specified value </td>
          </tr>
        </tbody>
      </table>
      <p>
        The <a class="css-propname">counter-reset</a> property <a class="externalDFN"
        href="CSS3LIST#create-a-new-counter">creates</a> new counters on an element. Its values are
        defined as follows:
      </p>
      <dl>
        <dt>none</dt>
        <dd>
          The element does not <a class="externalDFN"
          href="CSS3LIST#create-a-new-counter">create</a> any new counters.
        </dd>
        <dt>
          [ <a href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
          class="externalDFN">&lt;custom-ident&gt;</a> <a class="externalDFN"
          href="http://www.w3.org/TR/css3-syntax/#typedef-integer">&lt;integer&gt;</a>? ]+
        </dt>
        <dd>
          The element <a class="externalDFN" href="CSS3LIST#create-a-new-counter">creates</a> one or
          more new counters. If an <a class="externalDFN"
          href="http://www.w3.org/TR/css3-syntax/#typedef-integer">&lt;integer&gt;</a> is provided
          after a <a href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
          class="externalDFN">&lt;custom-ident&gt;</a>, it is the starting value of the
          counter. Otherwise, the starting value of the new counter is <span
          class="css-propval">0</span>.
        </dd>
      </dl>
      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>counter-set</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td>
              [ <a href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
              class="externalDFN"><var>&lt;custom-ident&gt;</var></a> <a class="externalDFN"
              href="http://www.w3.org/TR/css3-syntax/#typedef-integer"><var>&lt;integer&gt;</var></a>?
              ]+ | none
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#initial-value" class="externalDFN">Initial</a>:
            </th>
            <td> none </td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td>
              all elements and pseudo-elements
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#inherited-property" class="externalDFN">Inherited</a>:
            </th>
            <td> no </td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>
              <a href="CSS2MEDIA#media-types" class="externalDFN">embossed</a>
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#computed" class="externalDFN">Computed value</a>:
            </th>
            <td> the specified value </td>
          </tr>
        </tbody>
      </table>
      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>counter-increment</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td>
              [ <a href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
              class="externalDFN"><var>&lt;custom-ident&gt;</var></a> <a class="externalDFN"
              href="http://www.w3.org/TR/css3-syntax/#typedef-integer"><var>&lt;integer&gt;</var></a>?
              ]+ | none
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#initial-value" class="externalDFN">Initial</a>:
            </th>
            <td> none </td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td>
              all elements and pseudo-elements
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#inherited-property" class="externalDFN">Inherited</a>:
            </th>
            <td> no </td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>
              <a href="CSS2MEDIA#media-types" class="externalDFN">embossed</a>
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#computed" class="externalDFN">Computed value</a>:
            </th>
            <td> the specified value </td>
          </tr>
        </tbody>
      </table>
      <p>
        The <a class="css-propname">counter-set</a> and <a class="css-propname">counter-increment</a>
        properties manipulate the value of existing counters. They only <a class="externalDFN"
        href="CSS3LIST#create-a-new-counter">create</a> new counters if there is no counter of the
        given name on the element yet. Their values are defined as follows:
      </p>
      <dl>
        <dt>none</dt>
        <dd>
          The element does not alter the value of any counters.
        </dd>
        <dt>
          [ <a href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
          class="externalDFN">&lt;custom-ident&gt;</a> <a class="externalDFN"
          href="http://www.w3.org/TR/css3-syntax/#typedef-integer">&lt;integer&gt;</a>? ]+
        </dt>
        <dd>
          The element alters the value of one or more counters on it. If there is not currently a
          counter of the given name on the element, the element <a class="externalDFN"
          href="CSS3LIST#create-a-new-counter">creates</a> a new counter of the given name. If an <a
          class="externalDFN"
          href="http://www.w3.org/TR/css3-syntax/#typedef-integer">&lt;integer&gt;</a> is provided
          after a <a href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
          class="externalDFN">&lt;custom-ident&gt;</a>, the value of the innermost counter of the
          given name is set to that integer (for <a class="css-propname">counter-set</a>) or incremented
          by that integer (for <a class="css-propname">counter-increment</a>). Otherwise, the value of
          the innermost counter of the given name is set to <span class="css-propval">0</span> (for <a
          class="css-propname">counter-set</a>) or incremented by <span class="css-propval">1</span> (for <a
          class="css-propname">counter-increment</a>).
        </dd>
      </dl>
      <p>
        Inheriting counters must be done before resetting counters, which must be done before
        setting counters, which must be done before incrementing counters, which must be done
        before using counters.
      </p>
      <p>
        A counter in an element that does not generate a box cannot be set, reset, or
        incremented.
      </p>
    </section>
    <section>
      <h4> Creating and Inheriting Counters </h4>
      <p>
        Every element has a collection of zero or more counters, which are inherited through the
        document tree in a special way. A counter and its value are inherited separately,
        possibly from different elements.
      </p>
      <p>
        If an element has preceding <a href="CSS2CONFORM#sibling"
        class="externalDFN">siblings</a>, it inherits all of the immediately preceding sibling's
        counters. Otherwise, if the element has a <a href="CSS2CONFORM#parent"
        class="externalDFN">parent</a>, it inherits all of the parent's counters.
      </p>
      <p>
        The element then inherits counter values from the immediately <a
        href="http://www.w3.org/TR/xpath20/#axes">preceding element</a> in document order. This is
        done by examining the set of counters that the immediately preceding element has, and, for
        every counter that exists in both the element's set and the preceding element's set, giving
        the element's counter the same value.
      </p>
      <p>
        Additional counters can be created on elements with the <a
        class="css-propname">counter-reset</a> property. The effect depends on what other counters of
        that name exist on the element:
      </p>
      <ul>
        <li>
          If no counters of that name exist on the element, create a new counter with that name.
        </li>
        <li>
          Otherwise, if a counter of that name exists on the element, and it was created by a <a
          href="CSS2CONFORM#sibling" class="externalDFN">preceding</a> sibling, replace the
          innermost counter of that name on the element with a newly-created counter with that
          name.
        </li>
        <li>
          Otherwise, create a new counter with that name and nest it inside of the innermost
          counter with that name.
        </li>
      </ul>
      <p>
        The value of the new counter is set to the provided starting value.
      </p>
      <p>
        A <span class="css-propval">page</span> counter is created automatically on the root
        element. Its purpose is for numbering braille pages. The counter is implicitely incremented
        on each page. Depending on the implementation, explicitely setting or incrementing this
        counter may or may not have an effect. No new counters can be created with the name <span
        class="css-propval">page</span>.
      </p>
      <p>
        Implementations may define additional automatic counters.
      </p>
    </section>
    <section>
      <h4> Printing Counters: the <a class="css-propval">counter()</a> function </h4>
      <p>
        Counters can be used with the <a class="css-propval">counter()</a> function. This happens
        automatically in the default contents of <a class="css">::marker</a> pseudo-elements, but
        the function can be used anywhere a string value is allowed. The function takes the name of
        a counter and an optional <a href="CSS3COUNTERSTYLES#counter-style"
        class="externalDFN">&lt;counter-style&gt;</a> name (which defaults to <span
        class="css-propval">decimal</span>) and returns a <a href="CSS3VAL#string-value"
        class="externalDFN">&lt;string&gt;</a> value:
      </p>
      <p>
        <code>
          <dfn>counter()</dfn> = counter( <a href="CSS3VAL#identifier-value"
          class="externalDFN"><var>&lt;custom-ident&gt;</var></a> [, [ <a
          href="CSS3COUNTERSTYLES#counter-style"
          class="externalDFN"><var>&lt;counter-style&gt;</var></a> | none ] ]? )
        </code>
      </p>
      <p>
        The <a href="CSS3VAL#string-value" class="externalDFN">&lt;string&gt;</a> value returned
        by the function is obtained as follows:
      </p>
      <ul>
        <li>
          If the second argument to the function is <span class="css-propval">none</span>, the function
          returns the empty string.
        </li>
        <li>
          Otherwise, the function <a href="CSS3COUNTERSTYLES#generate-a-counter"
          class="externalDFN">generates a counter representation</a> for the value of the innermost
          counter of that name on the element (or <span class="css-propval">0</span> if the element has
          no counter of that name), using the <a href="CSS3COUNTERSTYLES#counter-style"
          class="externalDFN">&lt;counter-style&gt;</a> specified by the second argument.
        </li>
      </ul>
      <div class="example">
        Braille pages can be numbered by printing the <span class="css-propval">page</span> counter in
        the page margin. (See also the section <a href="#h4_page-margin-boxes">Page-Margin
        Boxes</a> below.)
        <div class="code code-xml">
          <pre class="highlight"><![CDATA[<body>
  ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿
  ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿
  ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿
</body>]]></pre>
        </div>
        <div class="code code-css">
          <pre class="highlight">@page {
  size: 10 5;
  margin-top: 1;
  @top-right {
    content: counter(page);
  }
}</pre>
        </div>
        <div class="code code-pef">
          <pre class="highlight"><![CDATA[<pef xmlns="http://www.daisy.org/ns/2008/pef" version="2008-1">
  <head xmlns:dc="http://purl.org/dc/elements/1.1/">
    <meta>
      <dc:format>application/x-pef+xml</dc:format>
    </meta>
  </head>
  <body>
    <volume rows="5" cols="10" rowgap="0" duplex="true">
      <section>
        <page>
          <row>⠀⠀⠀⠀⠀⠀⠀⠀⠼⠁</row>
          <row>⠿⠿⠿⠀⠿⠿⠿</row>
          <row>⠿⠿⠿⠀⠿⠿⠿</row>
          <row>⠿⠿⠿⠀⠿⠿⠿</row>
          <row>⠿⠿⠿⠀⠿⠿⠿</row>
        </page>
        <page>
          <row>⠀⠀⠀⠀⠀⠀⠀⠀⠼⠃</row>
          <row>⠿⠿⠿⠀⠿⠿⠿</row>
          <row>⠿⠿⠿⠀⠿⠿⠿</row>
          <row>⠿⠿⠿⠀⠿⠿⠿</row>
          <row>⠿⠿⠿</row>
        </page>
      </section>
    </volume>
  </body>
</pef>]]></pre>
        </div>
      </div>
    </section>
    <section>
      <h4> Defining Counter Styles: the <a class="css">@counter-style</a> rule </h4>
      <p>
        The <dfn class="css">@counter-style</dfn> rule allows the definition of custom <a
        href="CSS3COUNTERSTYLES#counter-style" class="externalDFN">counter styles</a>. A <a
        class="css">@counter-style</a> rule consists of the keyword <span
        class="css">@counter-style</span>, a name, and a block of declaractions (called desciptors)
        which define how a counter value is converted into a string. A counter styles's name must be
        a <a href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
        class="externalDFN">&lt;custom-ident&gt;</a> not equal to <span class="css-propval">none</span>
        or <span class="css-propval">decimal</span>. The various descriptors that make up a counter
        style are described in [[CSS3COUNTERSTYLES]]. In addition, a counter style in Braille CSS
        can also have a <a class="css-propname">text-transform</a> descriptor.
      </p>
      <p>
        User agents must define the <span class="css-propval">decimal</span> counter style as an
        ultimate fallback style. Agents may include additional predefined styles in their UA
        stylesheet. All counter styles, predefined or not, except for <span
        class="css-propval">decimal</span>, can be overridden.
      </p>
      <div class="note">
        <p>
          The <span class="css-propval">decimal</span> counter style may be defined as follows:
        </p>
        <pre class="highlight css">@counter-style decimal {
  system: numeric;
  symbols: '<span class="braille">⠚</span>' '<span class="braille">⠁</span>' '<span
  class="braille">⠃</span>' '<span class="braille">⠉</span>' '<span class="braille">⠙</span>' '<span
  class="braille">⠑</span>' '<span class="braille">⠋</span>' '<span class="braille">⠛</span>' '<span
  class="braille">⠓</span>' '<span class="braille">⠊</span>'
}</pre>
      </div>
      <p>
        In addition to the steps listed in [[CSS3COUNTERSTYLES]] for <a
        href="CSS3COUNTERSTYLES#generate-a-counter" class="externalDFN">generating a counter
        representation</a>, user agents in the ‘<a>translator</a>’ category must perform the
        necessary steps to ensure that the resulting representation is a <a
        title="&lt;braille-string&gt;">braille string</a>. The transformation to braille is
        influenced by the <a class="css-propname">text-transform</a> descriptor.
      </p>
    </section>
    <section>
      <h4> Default Marker Contents: the <a class="css-propname">list-style-type</a> property </h4>
      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>list-style-type</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td>
              <a><var>&lt;braille-string&gt;</var></a> | <a href="CSS3COUNTERSTYLES#counter-style"
              class="externalDFN"><var>&lt;counter-style&gt;</var></a> | none
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#initial-value" class="externalDFN">Initial</a>:
            </th>
            <td> none </td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td> list-item </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#inherited-property" class="externalDFN">Inherited</a>:
            </th>
            <td> yes </td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>
              <a href="CSS2MEDIA#media-types" class="externalDFN">embossed</a>
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#computed" class="externalDFN">Computed value</a>:
            </th>
            <td> specified value </td>
          </tr>
        </tbody>
      </table>
      <p>
        The <a class="css-propname">list-style-type</a> property is used to construct the default
        contents of a list item's marker; otherwise, <a class="css-propname">list-style-type</a> is
        ignored. The values are defined as follows:
      </p>
      <dl>
        <dt>none</dt>
        <dd>
          The marker's default contents are <span class="css-propval">none</span>.
        </dd>
        <dt>
          <a>&lt;braille-string&gt;</a>
        </dt>
        <dd>
          The <a>&lt;braille-string&gt;</a> is used as the marker's default contents.
        </dd>
        <dt>
          <a href="CSS3COUNTERSTYLES#counter-style"
             class="externalDFN">&lt;counter-style&gt;</a>
        </dt>
        <dd>
          The marker's default content are
          <code>
            <var>&lt;counter-prefix&gt;</var> <a title="counter()">counter</a>( list-item, <a
            href="CSS3COUNTERSTYLES#counter-style"
            class="externalDFN"><var>&lt;counter-style&gt;</var></a> )
            <var>&lt;counter-suffix&gt;</var>
          </code>
          where <var>&lt;counter-prefix&gt;</var> and <var>&lt;counter-suffix&gt;</var> are the
          values of the <a href="CSS3COUNTERSTYLES#descdef-counter-style-prefix">prefix</a> and
          <a href="CSS3COUNTERSTYLES#descdef-counter-style-suffix">suffix</a> descriptors for
          the specified counter style.
        </dd>
      </dl>
    </section>
  </section>
  <section id="named-strings">
    <h3> Named Strings </h3>
    <p class="issue">
      See <a href="https://github.com/braillespecs/braille-css/issues/17"
      class="ticket">braille-css#17</a>.
    </p>
    <p>
      The <a class="css-propname">string-set</a> property sets the value of a <a
      href="CSS3GCPM#named-strings0" class="externalDFN">named string</a>, which functions as a
      variable. The value can be retrieved using the <a class="css-propval">string()</a> function. Since
      these variables may change on a given page, an optional second value for the <a
      class="css-propval">string()</a> function allows authors to choose which value on a page is used.
    </p>
    <section>
      <h4> The <a class="css-propname">string-set</a> property </h4>
      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>string-set</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td>
              [ <a href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
              class="externalDFN"><var>&lt;custom-ident&gt;</var></a> <a title="string-set
              content-list"><var>&lt;content-list&gt;</var></a> ] [, <a
              href="http://www.w3.org/TR/2013/CR-css3-values-20130730/#identifier-value"
              class="externalDFN"><var>&lt;custom-ident&gt;</var></a>
              <var>&lt;content-list&gt;</var> ]* | none
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#initial-value" class="externalDFN">Initial</a>:
            </th>
            <td> none </td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td> all elements </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#inherited-property" class="externalDFN">Inherited</a>:
            </th>
            <td> no </td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>
              <a href="CSS2MEDIA#media-types" class="externalDFN">embossed</a>
            </td>
          </tr>
          <tr>
            <th>
              <a href="CSS3CASCADE#computed" class="externalDFN">Computed value</a>:
            </th>
            <td> specified value </td>
          </tr>
        </tbody>
      </table>
      <p>
        The <a class="css-propname">string-set</a> property contains one or more pairs, each consisting
        of a custom identifier followed by a <a class="css-propval" title="string-set
        content-list">content-list</a> describing how to construct the value of the named string.
      </p>
      <p>
        <a title="string-set content-list">&lt;content-list&gt;</a> expands to one or more of the
        following values, in any order. The generated content is the concatenation of all values in
        the list.
      </p>
      <p>
        <code>
          <dfn title="string-set content-list">content-list</dfn> = [ <a href="CSS3VAL#string-value"
          class="externalDFN"><var>&lt;string&gt;</var></a> |
          <var>&lt;attr(&lt;identifier&gt;)&gt;</var> | <var>&lt;content()&gt;</var> ]+
        </code>
      </p>
      <dl>
        <dt>
          <a href="CSS3VAL#string-value" class="externalDFN">&lt;string&gt;</a>
        </dt>
        <dd>
          A <a href="CSS3VAL#string-value" class="externalDFN">string</a>.
        </dd>
        <dt>
          &lt;attr(&lt;identifier&gt;)&gt;
        </dt>
        <dd>
          An <a href="CSS3VAL#attr-notation" class="externalDFN css-propval">attr()</a> function, as
          defined in [[CSS3VAL]].
        </dd>
        <dt>
          &lt;content()&gt;
        </dt>
        <dd>
          A <span class="css-propval">content()</span> function, which returns the string value of the
          element. Any text that is generated inside <a class="css">::before</a> or <a
          class="css">::after</a> pseudo-elements are not part of this. Elements that do not
          generate boxes can also have a non-empty string value.
        </dd>
      </dl>
      <p>
        Named strings contain unformatted text. XML structure and CSS styling are not preserved. <a
        href="#h3_the-text-transform-property">Text transformation</a> and <a
        href="#h3_white-space-processing">white space processing</a> of strings happens after
        evaluation of the variable (with the <a class="css-propval">string()</a> function) and not
        before assignment (with the <a class="css-propname">string-set</a> property). This means that <a
        class="css-propname">text-transform</a> and <a class="css-propname">white-space</a> properties can
        have an effect at the place of insertion, but not at the original position in the DOM.
      </p>
      <p>
        The content values of named strings are assigned at the point when the <a
        href="CSS3BOX#content" class="externalDFN">content box</a> (or first content box fragment)
        of the element is created, or if the element does not generate any boxes, <i>would have
        been</i> created if it was a non-empty inline element.
      </p>
    </section>
    <section>
      <h4> The <a class="css-propval">string()</a> function </h4>
      <p>
        The <a class="css-propval">string()</a> function is used to insert the value of a named string
        into the document via the <a class="css-propname">content</a> property. This function requires
        one argument, the name of the named string. Since the value of a named string may change
        several times on a page an optional second argument indicates which value of the named
        string should be used.
      </p>
      <p>
        <code>
          <dfn>string()</dfn> = string( <a href="CSS3VAL#identifier-value"
          class="externalDFN"><var>&lt;custom-ident&gt;</var></a> [ , [ first | start | last |
          last-except-start | page-first | page-start | page-last | page-last-except-start |
          spread-first | spread-start | spread-last | spread-last-except-start | ] ]? )
        </code>
      </p>
      <p>
        The second argument of the <a class="css-propval">string()</a> function is one of the following
        keywords:
      </p>
      <dl>
        <dt><dfn title="string-first">first</dfn></dt>
        <dt><dfn title="string-page-first">page-first</dfn></dt>
        <dd>
          The value of the first assignment on the page is used. If there is no assignment on the
          page, the assignment in effect at the end of the previous page (<a
          href="CSS3GCPM#entry-value" class="externalDFN">entry value</a>) is used. <a
          title="string-first" class="css-propval">first</a> is the default value.
        </dd>
        <dt><dfn title="string-start">start</dfn></dt>
        <dt><dfn title="string-page-start">page-start</dfn></dt>
        <dd>
          The value of the first assignment on the page is used if the content box (fragment) of
          that element does not follow any other content boxes on the page. Otherwise the assignment
          in effect at the end of the previous page (<a href="CSS3GCPM#entry-value"
          class="externalDFN">entry value</a>) is used.
        </dd>
        <dt><dfn title="string-last">last</dfn></dt>
        <dt><dfn title="string-page-last">page-last</dfn></dt>
        <dd>
          The assignment in effect at the end of the current page (<a href="CSS3GCPM#exit-value"
          class="externalDFN">exit value</a>) is used.
        </dd>
        <dt><dfn title="string-last-except-start">last-except-start</dfn></dt>
        <dt><dfn title="string-page-last-except-start">page-last-except-start</dfn></dt>
        <dd>
          The last assignment following a content box on the current page is used, or the empty
          string if there is no such assignment. Effectively this is the same as <a
          title="string-last" class="css-propval">last</a> but excluding the assignment that would
          be used by <a title="string-start" class="css-propval">start</a> (and all assignments that
          precede it).
        </dd>
        <dt><dfn title="string-spread-first">spread-first</dfn></dt>
        <dd>
          Analogous to <a title="string-first" class="css-propval">first</a> with ‘page’ replaced by
          ‘page spread’.
        </dd>
        <dt><dfn title="string-spread-start">spread-start</dfn></dt>
        <dd>
          Analogous to <a title="string-start" class="css-propval">start</a> with ‘page’ replaced by
          ‘page spread’.
        </dd>
        <dt><dfn title="string-spread-last">spread-last</dfn></dt>
        <dd>
          Analogous to <a title="string-last" class="css-propval">last</a> with ‘page’ replaced by
          ‘page spread’.
        </dd>
        <dt><dfn title="string-spread-last-except-start">spread-last-except-start</dfn></dt>
        <dd>
          Analogous to <a title="string-last-except-start" class="css-propval">last-except-start</a>
          with ‘page’ replaced by ‘page spread’.
        </dd>
      </dl>
      <div class="example">
        Braille pages can be numbered by printing the <span class="css-propval">page</span> counter in
        the page margin. (See also the section <a href="#h4_page-margin-boxes">Page-Margin
        Boxes</a> below.)
        <div class="code code-xml">
          <pre class="highlight"><![CDATA[<body>
  <p foo="⠁">
    ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁ ⠁⠁⠁
  </p>
  <p foo="⠿">
    ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿ ⠿⠿⠿
  </p>
  <p foo="⠤">
    ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤ ⠤⠤⠤
  </p>
  <p foo="⠸">
    ⠸⠸⠸ ⠸⠸⠸ ⠸⠸⠸ ⠸⠸⠸ ⠸⠸⠸
  </p>
  <p foo="⠛">
    ⠛⠛⠛ ⠛⠛⠛ ⠛⠛⠛ ⠛⠛⠛ ⠛⠛⠛ ⠛⠛⠛ ⠛⠛⠛
  </p>
  <p foo="⠌">
    ⠌⠌⠌ ⠌⠌⠌ ⠌⠌⠌ ⠌⠌⠌ ⠌⠌⠌
  </p>
</body>]]></pre>
        </div>
        <div class="code code-css">
          <pre class="highlight">@page {
  size: 10 6;
  @top-left {
    content: string(foo, first); }
  @top-right {
    content: string(foo, start); }
  @bottom-left {
    content: string(foo, last); }
  @bottom-right {
    content: string(foo, last-except-start); }
}
p {
  display: block;
  string-set: foo attr(foo);
}</pre>
        </div>
        <div class="code code-pef">
          <pre class="highlight"><![CDATA[<pef xmlns="http://www.daisy.org/ns/2008/pef" version="2008-1">
  <head xmlns:dc="http://purl.org/dc/elements/1.1/">
    <meta>
      <dc:format>application/x-pef+xml</dc:format>
    </meta>
  </head>
  <body>
    <volume rows="6" cols="10" rowgap="0" duplex="true">
      <section>
        <page>
          <row>⠁⠀⠀⠀⠀⠀⠀⠀⠀⠁</row>
          <row>⠁⠁⠁⠀⠁⠁⠁</row>
          <row>⠁⠁⠁⠀⠁⠁⠁</row>
          <row>⠁⠁⠁</row>
          <row>⠿⠿⠿⠀⠿⠿⠿</row>
          <row>⠿⠀⠀⠀⠀⠀⠀⠀⠀⠿</row>
        </page>
        <page>
          <row>⠤⠀⠀⠀⠀⠀⠀⠀⠀⠿</row>
          <row>⠿⠿⠿⠀⠿⠿⠿</row>
          <row>⠿⠿⠿</row>
          <row>⠤⠤⠤⠀⠤⠤⠤</row>
          <row>⠤⠤⠤⠀⠤⠤⠤</row>
          <row>⠤⠀⠀⠀⠀⠀⠀⠀⠀⠤</row>
        </page>
        <page>
          <row>⠸⠀⠀⠀⠀⠀⠀⠀⠀⠤</row>
          <row>⠤⠤⠤</row>
          <row>⠸⠸⠸⠀⠸⠸⠸</row>
          <row>⠸⠸⠸⠀⠸⠸⠸</row>
          <row>⠸⠸⠸</row>
          <row>⠸⠀⠀⠀⠀⠀⠀⠀⠀⠸</row>
        </page>
        <page>
          <row>⠛⠀⠀⠀⠀⠀⠀⠀⠀⠛</row>
          <row>⠛⠛⠛⠀⠛⠛⠛</row>
          <row>⠛⠛⠛⠀⠛⠛⠛</row>
          <row>⠛⠛⠛⠀⠛⠛⠛</row>
          <row>⠛⠛⠛</row>
          <row>⠛⠀⠀⠀⠀⠀⠀⠀⠀⠀</row>
        </page>
        <page>
          <row>⠌⠀⠀⠀⠀⠀⠀⠀⠀⠌</row>
          <row>⠌⠌⠌⠀⠌⠌⠌</row>
          <row>⠌⠌⠌⠀⠌⠌⠌</row>
          <row>⠌⠌⠌</row>
          <row/>
          <row>⠌⠀⠀⠀⠀⠀⠀⠀⠀⠀</row>
        </page>
      </section>
    </volume>
  </body>
</pef>]]></pre>
        </div>
      </div>
    </section>
  </section>
  <section id="leaders">
    <h3> Leaders: the <a class="css-propval">leader()</a> function </h3>
    <p>
      A leader is a repeating pattern used to visually connect content across horizontal
      spaces. They are most commonly used in tables of contents, between titles and page
      numbers. The <a class="css-propval">leader()</a> function, as a value for the <a
      class="css-propname">content</a> property, is used to create leaders. A
      <a><var>&lt;braille-string&gt;</var></a> describes the repeating pattern for the leader.
    </p>
    <p>
      <code>
        <dfn>leader()</dfn> = leader( <a><var>&lt;braille-string&gt;</var></a> )
      </code>
    </p>
    <p class="note difference">
      This function differs from the original <a href="CSS3GCPM#leaders" class="externalDFN
      css-propval">leader()</a> function [[CSS3GCPM]] in that it only takes a
      <a><var>&lt;braille-string&gt;</var></a> as an argument. <a href="CSS3GCPM#dotted-leader"
      class="externalDFN css-propval">dotted</a>, <a href="CSS3GCPM#solid-leader" class="externalDFN
      css-propval">solid</a>, <a href="CSS3GCPM/#space-leader" class="externalDFN css-propval">space</a> or
      <a href="CSS3GCPM#string-leader" class="externalDFN css-propval"><var>&lt;string&gt;</var></a> are
      not allowed.
    </p>
  </section>
  <section id="cross-references">
    <h3> Cross-references </h3>
    <p class="issue">
      See <a href="https://github.com/braillespecs/braille-css/issues/34"
      class="ticket">braille-css#34</a>.
    </p>
    <section>
      <h4> The <a class="css-propval">target-counter()</a> function </h4>
      <p>
        The <a class="css-propval">target-counter()</a> function retrieves the value of the <a
        href="#counters">named counter</a> at the element referred to by the <a href="CSS3VAL#url"
        class="externalDFN"><var>&lt;url&gt;</var></a>. The second argument is the name of the
        counter.
      </p>
      <p>
        <code>
          <dfn>target-counter()</dfn> = target-counter( <a href="CSS3VAL#url"
          class="externalDFN"><var>&lt;url&gt;</var></a>, <a href="CSS3VAL#identifier-value"
          class="externalDFN"><var>&lt;custom-ident&gt;</var></a> )
        </code>
      </p>
      <p class="note difference">
        This function differs from the original <a href="CSS3GCPM#funcdef-target-counter"
        class="externalDFN css-propval">target-counter()</a> function [[CSS3GCPM]] in that it doesn't
        take an optional <a href="CSS3COUNTERSTYLES#counter-style"
        class="externalDFN"><var>&lt;counter-style&gt;</var></a> argument.
      </p>
      <p class="note">
        The <a class="css-propval">target-counter()</a>, <a class="css-propval">target-string()</a> and <a
        class="css-propval">target-text()</a> functions only take a fragment URL which points to a
        location in the current document. The URL may also be provided indirectly using the <a
        href="CSS3VAL#attr-notation" class="externalDFN css-propval">attr()</a> function [[CSS3VAL]], in
        which case ‘url’ will be implied as the type argument if omitted.
      </p>
      <p class="issue">
        Add a <span class="css">target-content()</span> function. See <a
        href="https://github.com/braillespecs/braille-css/issues/6"
        class="ticket">braille-css#6</a>.
      </p>
    </section>
    <section>
      <h4> The <a class="css-propval">target-string()</a> function </h4>
      <p>
        The <a class="css-propval">target-string()</a> function retrieves the value of the <a
        href="#named-strings">named string</a> at the element referred to by the <a
        href="CSS3VAL#url" class="externalDFN"><var>&lt;url&gt;</var></a>. The second argument is
        the name of the counter.
      </p>
      <p>
        <code>
          <dfn>target-string()</dfn> = target-string( <a href="CSS3VAL#url"
          class="externalDFN"><var>&lt;url&gt;</var></a>, <a href="CSS3VAL#identifier-value"
          class="externalDFN"><var>&lt;custom-ident&gt;</var></a> )
        </code>
      </p>
    </section>
    <section>
      <h4> The <a class="css-propval">target-text()</a> function </h4>
      <p>
        The <a class="css-propval">target-text()</a> function retrieves the text value of the element
        referred to by the <a href="CSS3VAL#url" class="externalDFN"><var>&lt;url&gt;</var></a>.
      </p>
      <p>
        <code>
          <dfn>target-text()</dfn> = target-text( <a href="CSS3VAL#url"
          class="externalDFN"><var>&lt;url&gt;</var></a> )
        </code>
      </p>
      <p class="note difference">
        This function differs from the original <a href="CSS3GCPM#target-text-function"
        class="externalDFN css-propval">target-text()</a> function [[CSS3GCPM]] in that it doesn't take
        an optional second argument.
      </p>
    </section>
  </section>
  <section id="the-content-property">
    <h3> Inserting Content: the <a class="css-propname">content</a> property </h3>
    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>content</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>
            none | <a><var>&lt;content-list&gt;</var></a>
          </td>
        </tr>
        <tr>
          <th>
            <a href="CSS3CASCADE#initial-value" class="externalDFN">Initial</a>:
          </th>
          <td>none</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>
            <a class="css">::before</a>, <a class="css">::after</a>, <a class="css">::marker</a> and
            <a class="css">::alternate</a> pseudo-elements, <a href="CSS3PAGE#margin-context">margin
            contexts</a> and <a class="css">@begin</a> and <a class="css">@end</a> rules.
          </td>
        </tr>
        <tr>
          <th>
            <a href="CSS3CASCADE#inherited-property" class="externalDFN">Inherited</a>:
          </th>
          <td>no</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>
            <a href="CSS2MEDIA#media-types" class="externalDFN">embossed</a>
          </td>
        </tr>
        <tr>
          <th>
            <a href="CSS3CASCADE#computed" class="externalDFN">Computed value</a>:
          </th>
          <td>
            the <a href="CSS3CASCADE#specified" class="externalDFN">specified value</a>
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      The <a class="css-propname">content</a> property dictates what is rendered inside the
      pseudo-element or margin area.
    </p>
    <dl>
      <dt>
        none
      </dt>
      <dd>
        Causes the pseudo-element or margin area to have no content.
      </dd>
      <dt>
        <a>&lt;content-list&gt;</a>
      </dt>
      <dd>
        <a>&lt;content-list&gt;</a> expands to one or more of the following values, in any
        order. The generated content is the concatenation of all values in the list.
        <p>
          <code>
            <dfn>&lt;content-list&gt;</dfn> = [
            <a href="CSS3VAL#string-value" class="externalDFN"><var>&lt;string&gt;</var></a> |
            <a href="CSS3VAL#attr-notation" class="externalDFN"><var>&lt;attr()&gt;</var></a> |
            <a title="string()"><var>&lt;string()&gt;</var></a> |
            <a title="counter()"><var>&lt;counter()&gt;</var></a> |
            <a title="target-text()"><var>&lt;target-text()&gt;</var></a> |
            <a title="target-string()"><var>&lt;target-string()&gt;</var></a> |
            <a title="target-counter()"><var>&lt;target-counter()&gt;</var></a> |
            <a title="leader()"><var>&lt;leader()&gt;</var></a> |
            <a title="flow()"><var>&lt;flow()&gt;</var></a>
            ]+
          </code>
        </p>
        <dl>
          <dt>
            <a href="CSS3VAL#string-value" class="externalDFN">&lt;string&gt;</a>
          </dt>
          <dd>
            A <a href="CSS3VAL#string-value" class="externalDFN">string</a>.
          </dd>
          <dt>
            <a href="CSS3VAL#attr-notation" class="externalDFN">&lt;attr()&gt;</a>
          </dt>
          <dd>
            An <a href="CSS3VAL#attr-notation" class="externalDFN css-propval">attr()</a> function, as
            defined in [[CSS3VAL]].
          </dd>
          <dt>
            <a title="string()">&lt;string()&gt;</a>
          </dt>
          <dd>
            A <a class="css-propval">string()</a> function.
          </dd>
          <dt>
            <a title="counter()">&lt;counter()&gt;</a>
          </dt>
          <dd>
            A <a class="css-propval">counter()</a> function.
          </dd>
          <dt>
            <a title="target-text()">&lt;target-text()&gt;</a>
          </dt>
          <dd>
            A <a class="css-propval">target-text()</a> function.
          </dd>
          <dt>
            <a title="target-string()">&lt;target-string()&gt;</a>
          </dt>
          <dd>
            A <a class="css-propval">target-string()</a> function.
          </dd>
          <dt>
            <a title="target-counter()">&lt;target-counter()&gt;</a>
          </dt>
          <dd>
            A <a class="css-propval">target-counter()</a> function.
          </dd>
          <dt>
            <a title="leader()">&lt;leader()&gt;</a>
          </dt>
          <dd>
            A <a class="css-propval">leader()</a> function.
          </dd>
          <dt>
            <a title="flow()">&lt;flow()&gt;</a>
          </dt>
          <dd>
            A <a class="css-propval">flow()</a> function. See the chapter about <a
            href="#h3_named-flows">Named Flows</a>.
          </dd>
        </dl>
      </dd>
    </dl>
  </section>
</section>
